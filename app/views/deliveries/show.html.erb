<div class="order-details-container">
  <div class="order-details-card">
    <h2 class="order-details-title">ğŸšš Delivery Details</h2>

    <div class="order-info">
      <p><strong>Order #<%= @order.id %></strong></p>
      <p><strong>Status:</strong> 
        <span style="color: <%= case @order.status when 'pending' then '#dc3545' when 'assigned' then '#ffc107' when 'out_for_delivery' then '#007bff' else '#28a745' end %>; font-weight: bold;">
          <%= case @order.status when 'pending' then 'â³ Pending' when 'assigned' then 'ğŸ“‹ Assigned' when 'out_for_delivery' then 'ğŸšš Out for Delivery' else 'âœ… Delivered' end %>
        </span>
      </p>
      <p><strong>Order Date:</strong> <%= @order.created_at.strftime("%B %d, %Y at %I:%M %p") %></p>
      <p><strong>ğŸ“ Delivery Address:</strong> <%= @order.address %></p>
    </div>

    <h3 class="items-section-title">ğŸ›ï¸ Items to Deliver:</h3>
    <% @order_items.each do |order_item| %>
      <div class="order-item-detail">
        <strong><%= order_item.item.name %></strong> - <span class="order-item-price">â‚¹<%= order_item.item.price %></span>
        <br><small>Quantity: <%= order_item.quantity %></small>
      </div>
    <% end %>

    <% if true %>
      <% if @order.status == "assigned" %>
        <div style="display: flex; gap: 10px; margin-top: 30px;">
          <%= button_to "ğŸš€ Start Delivery", start_delivery_delivery_path(@order), method: :patch, style: "background-color: #ffc107; color: white; padding: 12px 20px; border: none; border-radius: 6px; font-weight: bold; flex: 1;" %>
          <%= link_to "â† Back to Dashboard", deliveries_path, style: "background-color: #6c757d; color: white; padding: 12px 20px; text-decoration: none; border-radius: 6px; text-align: center; flex: 1;" %>
        </div>
      <% elsif @order.status == "out_for_delivery" %>
        <div style="display: flex; gap: 10px; margin-top: 30px;">
          <%= button_to "âœ… Mark as Delivered", delivery_path(@order), method: :put, style: "background-color: #28a745; color: white; padding: 12px 20px; border: none; border-radius: 6px; font-weight: bold; flex: 1;" %>
          <%= link_to "â† Back to Dashboard", deliveries_path, style: "background-color: #6c757d; color: white; padding: 12px 20px; text-decoration: none; border-radius: 6px; text-align: center; flex: 1;" %>
        </div>
      <% else %>
        <div style="margin-top: 30px;">
          <%= link_to "â† Back to Dashboard", deliveries_path, class: "back-btn" %>
        </div>
      <% end %>
    <% else %>
      <div style="margin-top: 30px;">
        <%= link_to "â† Back to Dashboard", deliveries_path, class: "back-btn" %>
      </div>
    <% end %>
  </div>
</div>
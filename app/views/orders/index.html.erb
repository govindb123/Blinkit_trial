<div class="orders-container">
  <div class="orders-card">
    <div class="dashboard-header">
      <h2 class="orders-title">Customer Dashboard</h2>
      <%= link_to "üè† Home", root_path, class: "home-btn" %>
    </div>
    
    <h3 class="section-title">Available Items</h3>

  <% if notice %>
    <div class="success-notice">
      <%= notice %>
    </div>
  <% end %>

  <div class="items-grid">
    <% colors = ['#ffebee', '#e8f5e8', '#e3f2fd', '#fff3e0', '#f3e5f5', '#e0f2f1'] %>
    <% @items.each_with_index do |item, index| %>
      <div class="item-card" style="background-color: <%= colors[index % colors.length] %>;">
        <div class="item-name"><%= item.name %></div>
        <div class="item-price">‚Çπ<%= item.price %></div>
        <%= form_with url: orders_path, local: true do |f| %>
          <%= f.hidden_field :item_id, value: item.id %>
          <%= f.text_field :address, placeholder: "Enter delivery address", required: true, class: "address-input" %>
          <%= f.submit "Buy", class: "buy-btn" %>
        <% end %>
      </div>
     <% end %>
  </div>

  <!-- Orders Side by Side Layout -->
  <div class="orders-columns">
    
    <!-- Left Column: Pending Orders -->
    <div class="orders-column">
      <h3 class="pending-title">Pending Orders</h3>
      <% if Order.where(status: "pending").any? %>
        <% Order.where(status: "pending").last(5).each do |order| %>
          <div class="order-item pending-order">
            <%= link_to "Order ##{order.id} - #{order.order_items.first&.item&.name}", order_path(order), class: "order-link" %>
            <span class="order-status pending-status">‚è≥ Pending</span>
          </div>
        <% end %>
      <% else %>
        <div class="empty-orders">
          <p>No pending orders</p>
        </div>
      <% end %>
    </div>

    <!-- Right Column: Delivered Orders -->
    <div class="orders-column">
      <h3 class="delivered-title">Delivered Orders</h3>
      <% if Order.where(status: "delivered").any? %>
        <% Order.where(status: "delivered").last(5).each do |order| %>
          <div class="order-item delivered-order">
            <%= link_to "Order ##{order.id} - #{order.order_items.first&.item&.name}", order_path(order), class: "order-link" %>
            <span class="order-status delivered-status">‚úì Delivered</span>
          </div>
        <% end %>
      <% else %>
        <div class="empty-orders">
          <p>No delivered orders yet</p>
        </div>
      <% end %>
    </div>
    
  </div>
  </div>
</div>